(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(48)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(14),s=a.n(l),i=a(2),u=a(3);!function(e){e.START_LOADING="START_LOADING",e.FINISH_LOADING="FINISH_LOADING",e.SAVE_SEARCH_DATA="SAVE_SEARCH_DATA",e.SAVE_COUNTER_DATA="SAVE_COUNTER_DATA",e.SAVE_TOP_DEBTOR_DATA="SAVE_TOP_DEBTOR_DATA",e.SET_ACTIVE_ITEM="SET_ACTIVE_ITEM",e.SET_ERROR="SET_ERROR"}(n||(n={}));var m=function(e,t){switch(t.type){case n.START_LOADING:return Object(u.a)({},e,{isLoading:!0});case n.FINISH_LOADING:return Object(u.a)({},e,{isLoading:!1});case n.SAVE_SEARCH_DATA:return Object(u.a)({},e,{searchData:t.data});case n.SAVE_COUNTER_DATA:return Object(u.a)({},e,{caseCount:t.data});case n.SAVE_TOP_DEBTOR_DATA:return Object(u.a)({},e,{topDebtor:t.data});case n.SET_ACTIVE_ITEM:return Object(u.a)({},e,{activeItemId:t.id});case n.SET_ERROR:return Object(u.a)({},e,{error:t.error});default:return}},o={isLoading:!1},E=c.a.createContext({state:o,dispatch:void 0}),d=function(e){var t=Object(r.useReducer)(m,o),a=Object(i.a)(t,2),n=a[0],l=a[1],s=Object(r.useMemo)(function(){return{state:n,dispatch:l}},[n,l]);return c.a.createElement(E.Provider,{value:s},e.children)},p=a(4),I=a.n(p),A=a(15),N=a(16),T=a.n(N),h=function(e,t,a,c,l){var s=Object(r.useState)(null),u=Object(i.a)(s,2),m=u[0],o=u[1],E=Object(r.useState)(!1),d=Object(i.a)(E,2),p=d[0],N=d[1],h=Object(r.useState)(null),O=Object(i.a)(h,2),b=O[0],v=O[1];return Object(r.useEffect)(function(){""!==l&&function(){var t=Object(A.a)(I.a.mark(function t(){var r,l;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N(!0),a&&a({type:n.START_LOADING}),t.prev=2,t.next=5,T()(e);case 5:"OK"===(r=t.sent).statusText?(l=r.data,v(l),a&&a({type:n.SET_ERROR,error:null}),a&&c&&a({type:c,data:l})):(o(r.statusText),a&&a({type:n.SET_ERROR,error:r.statusText})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),o(t.t0.statusText),a&&a({type:n.SET_ERROR,error:t.t0.statusText});case 13:N(!1),a&&a({type:n.FINISH_LOADING});case 15:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}()()},[t]),{error:m,loading:p,data:b}},O=(a(41),function(){var e=Object(r.useContext)(E).dispatch,t=h({url:"http://rekrutacja-webhosting.it.krd.pl/api/Recruitment/GetDebtsCount",method:"GET"},null,e,n.SAVE_COUNTER_DATA),a=t.loading,l=t.data;return c.a.createElement("div",{className:"Counter"},c.a.createElement("p",{className:"Counter-title"},"Ca\u0142kowita ilo\u015b\u0107 spraw"),c.a.createElement("span",{className:"Counter-number"},a&&"Loading...",l&&l))}),b=(a(42),a(43),function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],s=Object(r.useState)(null),u=Object(i.a)(s,2),m=u[0],o=u[1],d=Object(r.useContext)(E).dispatch;h({url:"http://rekrutacja-webhosting.it.krd.pl/api/Recruitment/GetFilteredDebts",method:"POST",data:{Number:a,Name:a,NIP:a}},m,d,n.SAVE_SEARCH_DATA,a);return c.a.createElement("form",{className:"SearchInput-form",onSubmit:function(e){e.preventDefault(),a&&a.toString().length<3?d({type:n.SET_ERROR,error:"Prosz\u0119 wprowad\u017a co najmniej 3 znaki."}):(o(a),d({type:n.SET_ERROR,error:null}))}},c.a.createElement("label",{className:"SearchInput-label",htmlFor:"searchInput"},"Podaj numer sprawy, nazw\u0119 lub NIP d\u0142u\u017cnika"),c.a.createElement("div",{className:"SearchInput-inputContainer"},c.a.createElement("input",{className:"SearchInput-input",type:"text",name:"searchInput",value:a,onChange:function(e){return l(e.currentTarget.value)}}),c.a.createElement("input",{className:"SearchInput-submit",type:"submit",value:"Szukaj"})))}),v=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Header-backGround"}),c.a.createElement("div",{className:"Header AppFrame-content"},c.a.createElement(b,null),c.a.createElement(O,null)))},_=(a(44),a(45),a(46),function(e){var t=e.data,a=t.Address,l=t.DocumentType,s=t.Id,i=t.NIP,u=t.Name,m=t.Number,o=t.Price,d=t.Value,p=e.active,I=Object(r.useContext)(E).dispatch,A=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ListItem-cell ListItem-address ListItem-cell--smallFont"},c.a.createElement("h6",{className:"ListItem-cell--heading"},"Adres"),a),c.a.createElement("div",{className:"ListItem-documentType ListItem-cell--smallFont"},c.a.createElement("h6",{className:"ListItem-cell--heading"},"Rodzaj/typ dokuemntu stanowi\u0105cy ",c.a.createElement("br",null),"podstaw\u0119 dla wierzytelno\u015bci"),l),c.a.createElement("div",{className:"ListItem-price ListItem-cell--smallFont"},c.a.createElement("h6",{className:"ListItem-cell--heading"},"Cena zad\u0142u\u017cenia"),o),c.a.createElement("div",{className:"ListItem-number ListItem-cell--smallFont"},c.a.createElement("h6",{className:"ListItem-cell--heading"},"Numer"),m));return c.a.createElement("div",{className:"ListItem ".concat(p?"ListItem--active":"")},c.a.createElement("div",{className:"ListItem-name"},p&&c.a.createElement("h6",{className:"ListItem-cell--heading"},"D\u0142u\u017cnik"),u),c.a.createElement("div",{className:"ListItem-NIP"},p&&c.a.createElement("h6",{className:"ListItem-cell--heading"},"NIP"),i),c.a.createElement("div",{className:"ListItem-value"},p&&c.a.createElement("h6",{className:"ListItem-cell--heading"},"Kwota zad\u0142u\u017cenia"),d),c.a.createElement("button",{className:"ListItem-button",onClick:function(e){I(p?{type:n.SET_ACTIVE_ITEM,id:null}:{type:n.SET_ACTIVE_ITEM,id:s})}},p?"Mniej":"Wi\u0119cej"),p&&A)}),S=function(){var e=Object(r.useContext)(E),t=e.state,a=t.isLoading,l=t.searchData,s=t.topDebtor,i=t.activeItemId,u=t.error,m=e.dispatch;h({url:"http://rekrutacja-webhosting.it.krd.pl/api/Recruitment/GetTopDebts",method:"GET"},null,m,n.SAVE_TOP_DEBTOR_DATA);var o=l||s;return a?c.a.createElement("p",{className:"AppFrame-content"},"Loading..."):u?c.a.createElement("p",{className:"AppFrame-content AppFrame-error"},u):o&&!o.length?c.a.createElement("p",{className:"AppFrame-content"},"Nie znaleziono \u017cadnych wynik\xf3w spe\u0142niaj\u0105cych kryteria."):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"List AppFrame-content"},c.a.createElement("div",{className:"List-title"},c.a.createElement("span",{className:"List-title--heading List-name"},"D\u0142u\u017cnik"),c.a.createElement("span",{className:"List-title--heading List-NIP"},"NIP"),c.a.createElement("span",{className:"List-title--heading List-value"},"Kwota zad\u0142u\u017cenia")),c.a.createElement("div",{className:"List-items"},o&&o.map(function(e){return c.a.createElement(_,{data:e,active:e.Id===i,key:e.Id})}))))},f=(a(47),function(){var e,t=Object(r.useState)(0),a=Object(i.a)(t,2),n=a[0],l=a[1],s=Object(r.useContext)(E).state.isLoading;return s&&(e=setInterval(function(){if(n<85){var e=(t=5,a=10,Math.floor(Math.random()*(a-t+1)+t));l(function(t){return t+e})}var t,a},300)),Object(r.useEffect)(function(){s||(l(0),clearInterval(e))},[s]),Object(r.useEffect)(function(){return function(){e&&clearInterval(e)}}),c.a.createElement("div",{className:"Loader AppFrame-content"},s&&c.a.createElement("div",{className:"Loader-filler",style:{width:"".concat(n,"%")}}))}),L=function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"AppFrame"},c.a.createElement(v,null),c.a.createElement(f,null),c.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.c6507131.chunk.js.map